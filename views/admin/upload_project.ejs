<!DOCTYPE html>
<html lang="en">
<head>
        <title>Admin Upload Project</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/assets/img/favicon.png" type="image/x-icon" />
        <link rel="stylesheet" href="/assets/css/main.min.css"/>
        <link rel="stylesheet" href="/assets/css/styles.css"/>
</head>
<body>
    <form class="container py-4" method="POST" action="/admin/upload_project" enctype="multipart/form-data">
        <input type="hidden" name="key" value="<%= key %>">
        <div class="mb-3">
            <label for="internal_name" class="form-label">Internal Name</label>
            <input class="form-control" type="text" name="internal_name" id="internal_name" maxlength="50" required>
        </div>
        <div class="mb-3">
            <label for="name" class="form-label">Project Name</label>
            <input class="form-control" type="text" name="name" id="name" maxlength="50" required>
        </div>
        <div class="mb-3">
            <label for="short_description" class="form-label">Short Description</label>
            <textarea class="form-control" name="short_description" id="short_description" required></textarea>
        </div>
        <div class="mb-3">
            <label for="long_description" class="form-label">Long Description (HTML file)</label>
            <input class="form-control" type="file" name="long_description" id="long_description" accept=".html" required>
        </div>
        <div class="mb-3">
            <label for="thumbnail" class="form-label">Thumbnail (image upload)</label>
            <input class="form-control" type="file" name="thumbnail" id="thumbnail" accept="image/*" required>
        </div>
        <div class="mb-3">
            <label for="download_link" class="form-label">Download Link</label>
            <textarea class="form-control" name="download_link" id="download_link"></textarea>
        </div>
        <hr>
        <h5>Image Gallery</h5>
        <div id="image-gallery">
            <div class="row g-2 mb-2 image-row">
                <div class="col-md-6">
                    <input class="form-control" type="file" name="images[]" accept="image/*" required>
                </div>
                <div class="col-md-6">
                    <input class="form-control" type="text" name="image_descriptions[]" placeholder="Image Description">
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-outline-secondary mb-3" onclick="addImageRow()">Add Image</button>
        <hr>
        <h5>Languages</h5>
        <div id="languages-list">
            <div class="row g-2 mb-2 language-row">
                <div class="col-md-12">
                    <input class="form-control" type="text" name="languages[]" placeholder="Language Name" required>
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-outline-secondary mb-3" onclick="addLanguageRow()">Add Language</button>
        <hr>
        <h5>Links</h5>
        <div id="links-list">
            <div class="row g-2 mb-2 link-row">
                <div class="col-md-6">
                    <input class="form-control" type="text" name="link_names[]" placeholder="Link Name">
                </div>
                <div class="col-md-6">
                    <input class="form-control" type="url" name="link_urls[]" placeholder="Link URL">
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-outline-secondary mb-3" onclick="addLinkRow()">Add Link</button>
        <hr>
        <button class="btn btn-primary w-100" type="submit">Upload Project</button>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script>
    function addImageRow() {
        const gallery = document.getElementById('image-gallery');
        const row = document.createElement('div');
        row.className = 'row g-2 mb-2 image-row';
        row.innerHTML = `
            <div class="col-md-6">
                <input class="form-control" type="file" name="images[]" accept="image/*">
            </div>
            <div class="col-md-6">
                <input class="form-control" type="text" name="image_descriptions[]" placeholder="Image Description">
            </div>
        `;
        gallery.appendChild(row);
    }
    function addLanguageRow() {
        const list = document.getElementById('languages-list');
        const row = document.createElement('div');
        row.className = 'row g-2 mb-2 language-row';
        row.innerHTML = `
            <div class="col-md-12">
                <input class="form-control" type="text" name="languages[]" placeholder="Language Name" required>
            </div>
        `;
        list.appendChild(row);
    }
    function addLinkRow() {
        const list = document.getElementById('links-list');
        const row = document.createElement('div');
        row.className = 'row g-2 mb-2 link-row';
        row.innerHTML = `
            <div class="col-md-6">
                <input class="form-control" type="text" name="link_names[]" placeholder="Link Name" required>
            </div>
            <div class="col-md-6">
                <input class="form-control" type="url" name="link_urls[]" placeholder="Link URL" required>
            </div>
        `;
        list.appendChild(row);
    }
    </script>
</body>
</html>